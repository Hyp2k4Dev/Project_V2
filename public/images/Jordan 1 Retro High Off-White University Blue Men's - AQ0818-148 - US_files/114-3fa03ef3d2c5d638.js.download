"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{99950:function(e,t,i){var n=i(52903),r=i(2784),l=i(23267),o=i(81456),a=i(34103),u=i(33339),d=i(83302),s=i(70269);let c=(0,r.forwardRef)((e,t)=>{let{src:i,width:c=d.TH,height:v=d.lG,htmlHeight:m,htmlWidth:f,isPriority:p=!1,preloadImage:g=!1,extraImageParams:S={},is360:h=!1,isVideoThumbnail:k=!1,...b}=e,N=(0,l.Z)(),F=null==i?void 0:i.includes("Placeholder"),Z=d.yk.some(e=>null==i?void 0:i.includes(e)),E=F||!Z||!i,{fallbackSrc:I,fallbackSrcSet:L}=(0,r.useMemo)(()=>{let{imageSrc:e,imageSrcSet:t}=(0,s.Z)({src:d.oI,dpr:2,width:c,height:v,preferredImageFormat:N});return{fallbackSrc:e,fallbackSrcSet:t}},[v,N,c]),P=(0,r.useMemo)(()=>{if(E)return{};let{imageSrc:e,imageSrcSet:t}=(0,s.Z)({src:i,extraImageParams:S,width:c,height:v,preferredImageFormat:N});return{srcSet:t,src:e}},[E,i,S,c,v,N]);if(E)return(0,n.tZ)(a.Ee,{referrerPolicy:"origin",backgroundImage:`url('${I}')`,htmlWidth:f,htmlHeight:m,srcSet:L,src:I,...b});if(k){let e=`${i}${i.includes("time")?"&":"?"}height=78&width=78`;return(0,n.tZ)(a.Ee,{referrerPolicy:"origin",htmlWidth:f,htmlHeight:m,src:e,...b})}return(0,n.BX)(r.Fragment,{children:[g&&(null==P?void 0:P.srcSet)&&(null==P?void 0:P.src)&&(0,n.tZ)(o.Z,{srcSet:P.srcSet,src:P.src}),(0,n.tZ)(a.Ee,{ref:t,referrerPolicy:"origin",htmlWidth:f,htmlHeight:m,ignoreFallback:(null==P?void 0:P.src)||u.sk||h,fallbackSrc:I,fetchpriority:p?"high":void 0,...P,...b})]})});t.Z=c},83302:function(e,t,i){i.d(t,{TH:function(){return l},lG:function(){return o},oI:function(){return n},yk:function(){return r}});let n="https://stockx-assets.imgix.net/media/Product-Placeholder-Default-20210415.jpg?fit=fill&bg=FFFFFF&auto=format,compress&q=90&dpr=2&trim=color",r=[".net/",".io/",".com/"],l=576,o=384},70269:function(e,t,i){var n=i(34103);t.Z=e=>{let{src:t,preferredImageFormat:i,width:r,height:l,extraImageParams:o={}}=e,{client:a,path:u}=(0,n.jH)(t),d=u.split("?"),{q:s,...c}=Object.fromEntries(new URLSearchParams(d[1]??"").entries()),v=null==a?void 0:a.buildURL(d[0],{...c,...o,w:r,h:l,fm:i,q:60,auto:"compress"}),m={...c,...o,w:r,h:l,auto:"compress",fm:i};return{imageSrc:v,imageSrcSet:null==a?void 0:a.buildSrcSet(d[0],m,{variableQualities:{1:57,2:60,3:41},devicePixelRatios:[1,2,3]})}}},19278:function(e,t,i){var n=i(1246),r=i.n(n),l=i(36908);let o=e=>new l.Z().get(e);class a{static forceTwoDigits(e){return`0${e}`.slice(-2)}static getMinorUnits(e){return Math.round(Math.round((Number(e)+Number.EPSILON)*100)/100*100)}static roundedDecimal(e){return String(Math.round((e+Number.EPSILON)*100)/100)}static countDecimals(e){var t;return(null===(t=e.toString().split(".")[1])||void 0===t?void 0:t.length)||0}static getDollars(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=Number(e);if(!a.isNumeric(e)||0===u&&t)return"--";let d=n||o("stockx_selected_currency")||"USD",s=r||o("language_code")||"en";s=s.replace("_","-"),"AED"===d&&(s="US");let c=i?Math.round(u||0):Number(e),v=new Intl.NumberFormat(s,{style:"currency",currency:d,minimumFractionDigits:i?0:2});return l?a.getTruncated(u||0,{currencyCode:d,locale:s}):c&&c>999999999?v.format(999999999):v.format(c||0)}static getCurrencySymbol(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||o("stockx_selected_currency")||"USD",r=i||o("stockx_selected_locale")||"US";return r=r.replace("_","-"),"AED"===n&&(r="US"),null===(e=new Intl.NumberFormat(r,{style:"currency",currency:n}).formatToParts(0).find(e=>{let{type:t}=e;return"currency"===t}))||void 0===e?void 0:e.value}static getTruncated(e,t){let{currencyCode:i,locale:n}=t,r=Number(e),l=a.getCurrencySymbol(i,n);return Number.isNaN(r)?"":r>=1e3&&r<1e6?`${l}${+(Number(e)/1e3).toFixed(1)}K`:r>=1e6&&r<1e9?`${l}${+(Number(e)/1e6).toFixed(1)}M`:r>=1e9?`${l}${+(Number(e)/1e9).toFixed(1)}B`:`${l}${e}`}static getPercentage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Number(e),n="--%";if(a.isNumeric(e)){if((0===i||-1===i)&&t)return n;n=.1>Math.abs(Number(i))&&0!==i?r()(i).format("0.[0]%"):r()(i).format("0%")}return n}static getLocaleString(e){let t=parseInt(String(e),10);return t||0===t?t.toLocaleString():""}static isNumeric(e){let t=parseFloat(String(e));return!Number.isNaN(t)&&Number.isFinite(t)}static convertFullToHalf(e){return e.replace(/[\uFF10-\uFF19]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))}}t.Z=a},99261:function(e,t,i){let n=(0,i(92121).Z)(()=>Promise.all([i.e(4433),i.e(8448),i.e(3955),i.e(3678),i.e(1937),i.e(6796),i.e(6478)]).then(i.bind(i,57324)));t.Z=n},73310:function(e,t,i){let n=(0,i(92121).Z)(()=>i.e(6830).then(i.bind(i,7671)));t.Z=n},61849:function(e,t,i){let n=(0,i(92121).Z)(()=>Promise.all([i.e(4433),i.e(8448),i.e(3955),i.e(3678),i.e(1937),i.e(6796),i.e(3642)]).then(i.bind(i,70648)));t.Z=n},75409:function(e,t,i){var n=i(78192),r=i(82171),l=i(51852);t.Z=e=>{let t=(0,l.Z)(),{mutatefn:i,data:o,error:a,loading:u}=(0,n.Z)(r.Z,{onSuccess(i){if(null==e?void 0:e.id){var n,r;let l=null==i?void 0:null===(r=i.updateListItems)||void 0===r?void 0:null===(n=r.items)||void 0===n?void 0:n.reduce((e,t)=>{var i;return(null==t?void 0:null===(i=t.item)||void 0===i?void 0:i.id)&&(e[t.item.id]=!!t.item.favorite),e},{});t({[null==e?void 0:e.id]:!0,...l})}}});return{data:o,error:a,loading:u,favoriteProduct:i}}},20755:function(e,t,i){var n=i(2784),r=i(60813),l=i(74757),o=i(62774),a=i(15161),u=i(847),d=i(29895),s=i(6767),c=i(57765),v=i(50067),m=i(83880),f=i(59742),p=i(75409),g=i(86283),S=i(51852);t.Z=e=>{let{product:t,onOpen:i,favoritedProduct:h,onClose:k,onPDPAddToListToggle:b,showAddToListInToast:N=!1}=e,{t:F}=(0,r.$G)(),Z=(0,o.Z)(),E=(0,a.Z)(),I=(0,s.Z)(),{isOpen:L,onOpen:P,onClose:y}=(0,u.q)(),_=(0,d.pmc)(),w=(0,S.Z)(),[U,D]=(0,n.useState)(!1),C=v.Z.PRODUCT_FAVORITED,{updateFavoriteProduct:O,loading:T,data:$,error:x}=(0,g.Z)(),{favoriteProduct:R,loading:A,data:M,error:V}=(0,p.Z)(t);(0,n.useEffect)(()=>{var e;M&&(null==M?void 0:null===(e=M.updateListItems)||void 0===e?void 0:e.status)!==l.vn.FAILURE&&!A&&(null==k||k(),_({message:F("favorite_confirmation_message"),duration:6e3,isCloseable:!0,action:{text:N?F("pdp_add_to_portfolio_or_favorite_header"):F("favorite_confirmation_link"),handleClick:()=>{N?(_.closeAll(),null==b||b()):E.push(Z("/favorites/all-favorites"))}}}))},[M,A]),(0,n.useEffect)(()=>{var e,i,n;if($&&(null==$?void 0:null===(e=$.updateListItems)||void 0===e?void 0:e.status)!==l.vn.FAILURE&&!T&&(null==t?void 0:t.id)){let e=null==$?void 0:null===(n=$.updateListItems)||void 0===n?void 0:null===(i=n.items)||void 0===i?void 0:i.reduce((e,t)=>{var i;return(null==t?void 0:null===(i=t.item)||void 0===i?void 0:i.id)&&(e[t.item.id]=!!t.item.favorite),e},{});w({[null==t?void 0:t.id]:!1,...e}),null==k||k(),_({message:F("unfavorite_confirmation_message",{productTitle:null==t?void 0:t.title}),duration:6e3,isCloseable:!0,action:{text:F("unfavorite_confirmation_link"),handleClick:()=>j()}})}},[$,T]),(0,n.useEffect)(()=>{var e,t;(V||x||(null==M?void 0:null===(e=M.updateListItems)||void 0===e?void 0:e.status)===l.vn.FAILURE||(null==$?void 0:null===(t=$.updateListItems)||void 0===t?void 0:t.status)===l.vn.FAILURE)&&(null==k||k(),P())},[x,V,M,$]),(0,n.useEffect)(()=>{U&&(V||x?W():(y(),i()),D(!1))},[U]);let j=async()=>{var e,i;await H(),G({gaEvent:c.EVENTS.FollowProduct,segmentEvent:C,singleSizeVariant:null==t?void 0:null===(i=t.variants)||void 0===i?void 0:null===(e=i[0])||void 0===e?void 0:e.id})},H=async()=>{var e,i;await R({input:{action:"ADD",items:[{productId:null==t?void 0:t.id,variantId:null==t?void 0:null===(i=t.variants)||void 0===i?void 0:null===(e=i[0])||void 0===e?void 0:e.id}]}})},q=async()=>{var e,i;await O({input:{action:"DELETE",items:[{productId:null==t?void 0:t.id,variantId:null==t?void 0:null===(i=t.variants)||void 0===i?void 0:null===(e=i[0])||void 0===e?void 0:e.id}]}})},G=e=>{let{gaEvent:i,segmentEvent:n,singleSizeVariant:r}=e;I(i,null==t?void 0:t.productCategory,null==t?void 0:t.title),(0,m.Z)(n,{vertical:null==t?void 0:t.productCategory,screenName:f.Z.PRODUCT,productUUID:null==t?void 0:t.id,skuUUID:r||null,productName:null==t?void 0:t.title})},W=async()=>{var e,i,n,r;h?(await q(),G({gaEvent:c.EVENTS.UnfollowProduct,segmentEvent:v.Z.PRODUCT_UNFOLLOWED,singleSizeVariant:null==t?void 0:null===(i=t.variants)||void 0===i?void 0:null===(e=i[0])||void 0===e?void 0:e.id})):(await H(),G({gaEvent:c.EVENTS.FollowProduct,segmentEvent:C,singleSizeVariant:null==t?void 0:null===(r=t.variants)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.id}))};return{handleFavoriteUpdate:W,favoriteLoading:A,unfavoriteLoading:T,setRetry:D,modalErrorIsOpen:L,modalErrorOnClose:y,modalErrorOnOpen:P}}},51010:function(e,t,i){let n=(0,i(12294).Ue)(e=>({favoritedProductsList:{},setFavoritedProductsList:t=>e(e=>({favoritedProductsList:{...e.favoritedProductsList,...t}}))}));t.Z=n},42260:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(51010),r=()=>(0,n.Z)(e=>e.favoritedProductsList),l=(e,t)=>{let i=r();return(null==i?void 0:i[e])??t}},51852:function(e,t,i){var n=i(51010);t.Z=()=>(0,n.Z)(e=>e.setFavoritedProductsList)},86283:function(e,t,i){var n=i(78192),r=i(82171);t.Z=()=>{let{mutatefn:e,data:t,error:i,loading:l}=(0,n.Z)(r.Z);return{data:t,error:i,loading:l,updateFavoriteProduct:e}}},82171:function(e,t){t.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateFavoriteProduct"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"UpdateListItemsInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateListItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"favorite"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:220,source:{body:"\n  mutation UpdateFavoriteProduct($input: UpdateListItemsInput) {\n    updateListItems(input: $input) {\n      status\n      items {\n        status\n        item {\n          id\n          favorite\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},23267:function(e,t,i){var n,r,l=i(2784),o=i(41666);(n=r||(r={})).jpg="jpg",n.webp="webp",n.avif="avif";let a=e=>{var t;return parseInt((null===(t=e.split("."))||void 0===t?void 0:t[0])??"0",10)},u=(e,t,i)=>"Safari"===e&&t>=16||"Chrome"===e&&t>90&&"iOS"!==i||"Firefox"===e&&t>93&&"iOS"!==i||"Opera"===e&&t>71&&"iOS"!==i,d=(e,t,i,n,r)=>"Firefox"===e&&t>65&&t<93||"Safari"===e&&t>=14&&"desktop"!==r?"webp":"Chrome"===e&&t>33&&"iOS"!==i||("Chrome"===e&&"desktop"!==r&&"iOS"===i&&n>=14||"Safari"===e&&t>=15&&"desktop"===r||"Microsoft Edge"===e&&t>=18?"webp":void 0);t.Z=()=>{let e=(0,o.o)();return(0,l.useMemo)(()=>{if(!e)return"jpg";let t=e.browser.name,i=a(e.browser.version??""),n=e.os.name,r=a(e.os.version??""),l=e.platform.type;return t&&n&&l?u(t,i,n)?"avif":d(t,i,n,r,l)?"webp":"jpg":"webp"},[e])}}}]);